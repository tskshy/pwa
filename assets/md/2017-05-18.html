<!DOCTYPE html><html><head>
      <title>2017-05-18</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css">
      
      

      
      
      
      
      
      

      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <ul>
<li><a href="#hadoopzookeeperhbaseha%E4%BD%93%E7%B3%BB%E6%90%AD%E5%BB%BA">hadoop/zookeeper/hbase(HA)&#x4F53;&#x7CFB;&#x642D;&#x5EFA;</a>
<ul>
<li><a href="#%E7%8E%AF%E5%A2%83%E7%AE%80%E4%BB%8B">&#x73AF;&#x5883;&#x7B80;&#x4ECB;</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEssh%E6%97%A0%E5%AF%86%E7%A0%81%E8%AE%BF%E9%97%AE">&#x914D;&#x7F6E;ssh&#x65E0;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEjava%E7%8E%AF%E5%A2%83">&#x914D;&#x7F6E;java&#x73AF;&#x5883;</a></li>
<li><a href="#%E6%90%AD%E5%BB%BAzookeeper%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;zookeeper&#x96C6;&#x7FA4;</a></li>
<li><a href="#%E6%90%AD%E5%BB%BAhadoop%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;hadoop&#x96C6;&#x7FA4;</a></li>
<li><a href="#%E6%90%AD%E5%BB%BAhbase%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;hbase&#x96C6;&#x7FA4;</a></li>
</ul>
</li>
</ul>
<h1 class="mume-header" id="hadoopzookeeperhbaseha%E4%BD%93%E7%B3%BB%E6%90%AD%E5%BB%BA">hadoop/zookeeper/hbase(HA)&#x4F53;&#x7CFB;&#x642D;&#x5EFA;</h1>

<h3 class="mume-header" id="%E7%8E%AF%E5%A2%83%E7%AE%80%E4%BB%8B">&#x73AF;&#x5883;&#x7B80;&#x4ECB;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x4E09;&#x53F0;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x5982;&#x4E0B;</span>
<span class="token comment"># linux version: `CentOS release 6.5 (Final)`</span>

<span class="token function">cat</span> /etc/hosts

192.168.59.10 slave7 <span class="token comment">#master</span>
192.168.59.11 slave8 <span class="token comment">#slave</span>
192.168.59.12 slave9 <span class="token comment">#slave</span>
</pre><h3 class="mume-header" id="%E9%85%8D%E7%BD%AEssh%E6%97%A0%E5%AF%86%E7%A0%81%E8%AE%BF%E9%97%AE">&#x914D;&#x7F6E;ssh&#x65E0;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x5728;&#x4E09;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x90FD;&#x521B;&#x5EFA;hadoop&#x8D26;&#x6237;</span>

<span class="token comment"># &#x589E;&#x52A0;&#x7528;&#x6237;</span>
<span class="token function">useradd</span> hadoop
<span class="token comment"># &#x67E5;&#x770B;&#x7528;&#x6237;&#x4FE1;&#x606F;</span>
<span class="token function">id</span> hadoop
<span class="token comment"># &#x4FEE;&#x6539;&#x7528;&#x6237;&#x5BC6;&#x7801;</span>
password hadoop
</pre><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x6CA1;&#x6709;&#x7279;&#x522B;&#x8BF4;&#x660E;&#x90FD;&#x662F;&#x5728;hadoop&#x8D26;&#x6237;&#x4E0B;&#x64CD;&#x4F5C;</span>
<span class="token comment"># &#x5728;&#x6240;&#x6709;&#x673A;&#x5668;&#xFF08;&#x4E09;&#x53F0;&#xFF09;&#x5148;&#x751F;&#x6210;&#x5BC6;&#x94A5;&#x5BF9;</span>
ssh-keygen -t rsa -P <span class="token string">&apos;&apos;</span> -f ~/.ssh/id_rsa

<span class="token comment"># &#x628A;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#xFF0C;&#x8FFD;&#x52A0;&#x5230;&#x6388;&#x6743;&#x6587;&#x4EF6;authorized_keys&#x4E2D;</span>
<span class="token function">cat</span> ~/.ssh/id_rsa.pub <span class="token operator">&gt;&gt;</span> ~/.ssh/authorized_keys

<span class="token comment"># &#x4FEE;&#x6539;&#x6743;&#x9650;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x522B;&#x9057;&#x6F0F;&#x4E86;</span>
<span class="token function">chmod</span> 700 ~/.ssh
<span class="token function">chmod</span> 644 ~/.ssh/authorized_keys

<span class="token comment"># &#x4FEE;&#x6539;ssh&#x914D;&#x7F6E;&#xFF0C;&#x8BF7;&#x5207;&#x6362;root&#x8D26;&#x6237;&#x64CD;&#x4F5C;</span>
<span class="token function">vim</span> /etc/ssh/sshd_config
&#x628A;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#x7684;&#x6CE8;&#x91CA;&#x53D6;&#x6D88;&#x6389;
<span class="token comment">#RSAAuthentication yes # &#x542F;&#x7528; RSA &#x8BA4;&#x8BC1;</span>
<span class="token comment">#PubkeyAuthentication yes # &#x542F;&#x7528;&#x516C;&#x94A5;&#x79C1;&#x94A5;&#x914D;&#x5BF9;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;</span>
<span class="token comment">#AuthorizedKeysFile .ssh/authorized_key #&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</span>

<span class="token comment"># &#x91CD;&#x542F;ssh&#x670D;&#x52A1;</span>
<span class="token function">service</span> sshd restart
<span class="token comment"># &#x9000;&#x51FA;root</span>

<span class="token comment"># &#x9A8C;&#x8BC1;&#x672C;&#x673A;&#x662F;&#x5426;&#x65E0;&#x5BC6;&#x7801;&#x767B;&#x5F55;</span>
<span class="token function">ssh</span> localhost

<span class="token comment"># &#x6700;&#x540E;&#xFF0C;&#x628A;&#x672C;&#x673A;&#x7684;id_rsa.pub&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x8FFD;&#x52A0;&#x5230;&#x201C;&#x5176;&#x4ED6;&#x201D;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;~/.ssh/authorized_keys&#x91CC;</span>
<span class="token comment"># &#x91CD;&#x590D;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;</span>
<span class="token comment"># &#x5230;&#x6B64;&#xFF0C;&#x65E0;&#x5BC6;&#x7801;&#x8BBF;&#x95EE;&#x8BBE;&#x7F6E;&#x5B8C;&#x6BD5;</span>
</pre><h3 class="mume-header" id="%E9%85%8D%E7%BD%AEjava%E7%8E%AF%E5%A2%83">&#x914D;&#x7F6E;java&#x73AF;&#x5883;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x89E3;&#x538B;&#x540E;&#x5F97;&#x5230;jdk&#x76EE;&#x5F55;</span>
<span class="token comment"># /home/hadoop/jdk1.8.0_73</span>

<span class="token function">vim</span> ~/.bashrc

<span class="token comment"># &#x8BBE;&#x7F6E;JDK&#x76F8;&#x5173;&#x4FE1;&#x606F;</span>
<span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/home/hadoop/jdk1.8.0_73
PATH<span class="token operator">=</span><span class="token variable">${JAVA_HOME}</span>/bin:<span class="token variable">$PATH</span>
</pre><h3 class="mume-header" id="%E6%90%AD%E5%BB%BAzookeeper%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;zookeeper&#x96C6;&#x7FA4;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># zookeeper&#x7248;&#x672C;&#xFF1A;3.4.10</span>
<span class="token comment"># &#x89E3;&#x538B;zookeeper-3.4.10.tar.gz</span>
<span class="token comment"># zookeeper&#x9876;&#x7EA7;&#x76EE;&#x5F55;&#x4E3A;&#xFF1A;/home/hadoop/zookeeper-3.4.10</span>

<span class="token comment"># &#x521B;&#x5EFA;dataDir&#x548C;dataLogDir</span>
<span class="token function">mkdir</span> /home/hadoop/zookeeper-3.4.10/<span class="token punctuation">{</span>datadir,datalogdir<span class="token punctuation">}</span>

<span class="token comment"># &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;zoo.cfg</span>
<span class="token function">cp</span> /home/hadoop/zookeeper-3.4.10/conf/zoo_sample.cfg /home/hadoop/zookeeper-3.4.10/conf/zoo.cfg

</pre><p>&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<code>zoo.cfg</code>&#x4E2D;&#x4FEE;&#x6539;&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># The number of milliseconds of each tick</span>
tickTime<span class="token operator">=</span>2000
<span class="token comment"># The number of ticks that the initial </span>
<span class="token comment"># synchronization phase can take</span>
initLimit<span class="token operator">=</span>10
<span class="token comment"># The number of ticks that can pass between </span>
<span class="token comment"># sending a request and getting an acknowledgement</span>
syncLimit<span class="token operator">=</span>5
<span class="token comment"># the directory where the snapshot is stored.</span>
<span class="token comment"># do not use /tmp for storage, /tmp here is just </span>
<span class="token comment"># example sakes.</span>
dataDir<span class="token operator">=</span>/home/hadoop/zookeeper-3.4.10/datadir
dataLogDir<span class="token operator">=</span>/home/hadoop/zookeeper-3.4.10/datalogdir
<span class="token comment"># the port at which the clients will connect</span>
clientPort<span class="token operator">=</span>2181
<span class="token comment"># the maximum number of client connections.</span>
<span class="token comment"># increase this if you need to handle more clients</span>
<span class="token comment">#maxClientCnxns=60</span>
<span class="token comment">#</span>
<span class="token comment"># Be sure to read the maintenance section of the </span>
<span class="token comment"># administrator guide before turning on autopurge.</span>
<span class="token comment">#</span>
<span class="token comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span>
<span class="token comment">#</span>
<span class="token comment"># The number of snapshots to retain in dataDir</span>
autopurge.snapRetainCount<span class="token operator">=</span>3
<span class="token comment"># Purge task interval in hours</span>
<span class="token comment"># Set to &quot;0&quot; to disable auto purge feature</span>
autopurge.purgeInterval<span class="token operator">=</span>1

server.7<span class="token operator">=</span>slave7:2888:3888
server.8<span class="token operator">=</span>slave8:2888:3888
server.9<span class="token operator">=</span>slave9:2888:3888
</pre><pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x5728;datadir&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;myid&#x6587;&#x4EF6;</span>

<span class="token keyword">echo</span> <span class="token string">&quot;7&quot;</span> <span class="token operator">&gt;</span> myid
<span class="token comment"># &#x4E0A;&#x9762;&#x7684;&#x201C;7&#x201D;&#x8DDF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x201C;server.7&#x201D;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;</span>
<span class="token comment"># &#x5176;&#x4ED6;&#x673A;&#x5668;&#x4E00;&#x6837;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#x4FEE;&#x6539;</span>

<span class="token comment"># &#x786E;&#x4FDD;&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x90FD;&#x6309;&#x7167;&#x4E0A;&#x9762;&#x8981;&#x6C42;&#x521B;&#x5EFA;&#x5B8C;&#x6BD5;</span>
<span class="token comment"># &#x5E76;&#x4E14;&#x90FD;&#x5728;&#x76F8;&#x540C;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6700;&#x540E;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x90FD;&#x6267;&#x884C;</span>

<span class="token comment"># &#x542F;&#x52A8;zookeeper</span>
<span class="token function">cd</span> ~/zookeeper-3.4.10/bin/ <span class="token operator">&amp;&amp;</span> ./zkServer.sh start

<span class="token comment"># &#x505C;&#x6B62;zookeeper&#x547D;&#x4EE4;</span>
./zkServer.sh stop

<span class="token comment"># &#x67E5;&#x770B;zookeeper&#x72B6;&#x6001;&#x547D;&#x4EE4;</span>
./zkServer.sh status
</pre><h3 class="mume-header" id="%E6%90%AD%E5%BB%BAhadoop%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;hadoop&#x96C6;&#x7FA4;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># hadoop&#x7248;&#x672C;&#xFF1A;2.7.3</span>
<span class="token comment"># &#x89E3;&#x538B;hadoop-2.7.3.tar.gz</span>
<span class="token comment"># hadoop&#x9876;&#x7EA7;&#x76EE;&#x5F55;&#x4E3A;&#xFF1A;/home/hadoop/hadoop-2.7.3</span>

<span class="token comment"># &#x5148;&#x8FDB;&#x5165;hadoop&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;</span>

<span class="token function">cd</span> /home/hadoop/hadoop-2.7.3/etc/hadoop
</pre><p><a href="http://xn--hadoop-env-yu6pe85r.sh">&#x4FEE;&#x6539;hadoop-env.sh</a></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">vim</span> hadoop-env.sh
<span class="token comment"># &#x5728;&#x811A;&#x672C;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;</span>
<span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/home/hadoop/jdk1.8.0_73
</pre><p><a href="http://xn--yarn-env-0n3mm27o.sh">&#x4FEE;&#x6539;yarn-env.sh</a></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">vim</span> yarn-env.sh
<span class="token comment"># &#x5728;&#x811A;&#x672C;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;</span>
<span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/home/hadoop/jdk1.8.0_73
</pre><p>&#x4FEE;&#x6539; core-site.xml&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token prolog">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span>
<span class="token comment">&lt;!--
  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--&gt;</span>

<span class="token comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;hdfs&#x7684;nameservice&#x4E3A;ns1 &#x540D;&#x5B57;&#x968F;&#x610F;--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://ns1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;hadoop&#x4E34;&#x65F6;&#x76EE;&#x5F55; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/hadoop/hadoop-2.7.3/hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;zookeeper&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>ha.zookeeper.quorum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave7:2181,slave8:2181,slave9:2181<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>io.file.buffer.size<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4096<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</pre><p>&#x4FEE;&#x6539;hdfs-site.xml&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token prolog">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span>
<span class="token comment">&lt;!--
  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--&gt;</span>

<span class="token comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!--&#x6307;&#x5B9A;hdfs&#x7684;nameservice&#x4E3A;ns1&#xFF0C;&#x9700;&#x8981;&#x548C;core-site.xml&#x4E2D;&#x7684;&#x4FDD;&#x6301;&#x4E00;&#x81F4; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.nameservices<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>ns1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- ns1&#x4E0B;&#x9762;&#x6709;&#x4E24;&#x4E2A;NameNode&#xFF0C;&#x5206;&#x522B;&#x662F;nn1&#xFF0C;nn2&#xFF08;&#x540D;&#x5B57;&#x968F;&#x610F;&#x8D77;,&#x4F46;&#x662F;&#x8981;&#x4E0E;&#x4E0B;&#x9762;&#x4E00;&#x81F4;&#xFF09;--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.ha.namenodes.ns1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>nn1,nn2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- nn1&#x7684;RPC&#x901A;&#x4FE1;&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.rpc-address.ns1.nn1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave7:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- nn1&#x7684;http&#x901A;&#x4FE1;&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.http-address.ns1.nn1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave7:50070<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- nn2&#x7684;RPC&#x901A;&#x4FE1;&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.rpc-address.ns1.nn2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave8:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- nn2&#x7684;http&#x901A;&#x4FE1;&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.http-address.ns1.nn2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave8:50070<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;NameNode&#x7684;&#x5143;&#x6570;&#x636E;&#x5728;JournalNode&#x4E0A;&#x7684;&#x5B58;&#x653E;&#x4F4D;&#x7F6E; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.shared.edits.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>qjournal://slave7:8485;slave8:8485;slave9:8485/ns1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;JournalNode&#x5728;&#x672C;&#x5730;&#x78C1;&#x76D8;&#x5B58;&#x653E;&#x6570;&#x636E;&#x7684;&#x4F4D;&#x7F6E; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.journalnode.edits.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/hadoop/hadoop-2.7.3/journaldata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x5F00;&#x542F;NameNode&#x5931;&#x8D25;&#x81EA;&#x52A8;&#x5207;&#x6362; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.ha.automatic-failover.enabled<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x914D;&#x7F6E;&#x5931;&#x8D25;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.client.failover.proxy.provider.ns1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x914D;&#x7F6E;&#x9694;&#x79BB;&#x673A;&#x5236;&#x65B9;&#x6CD5;&#xFF0C;&#x591A;&#x4E2A;&#x673A;&#x5236;&#x7528;&#x6362;&#x884C;&#x5206;&#x5272;&#xFF0C;&#x5373;&#x6BCF;&#x4E2A;&#x673A;&#x5236;&#x6682;&#x7528;&#x4E00;&#x884C;--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.ha.fencing.methods<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>
			sshfence
			shell(/bin/true)
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x4F7F;&#x7528;sshfence&#x9694;&#x79BB;&#x673A;&#x5236;&#x65F6;&#x9700;&#x8981;ssh&#x514D;&#x767B;&#x9646; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.ha.fencing.ssh.private-key-files<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/home/hadoop/.ssh/id_rsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x914D;&#x7F6E;sshfence&#x9694;&#x79BB;&#x673A;&#x5236;&#x8D85;&#x65F6;&#x65F6;&#x95F4; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.ha.fencing.ssh.connect-timeout<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>30000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;HDFS&#x526F;&#x672C;&#x7684;&#x6570;&#x91CF; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- HDFS&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.name.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>file:///home/hadoop/hadoop-2.7.3/namenode_dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- HDFS&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x76EE;&#x5F55; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.datanode.data.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>file:///home/hadoop/hadoop-2.7.3/datanode_dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- &#x5728;NN&#x548C;DN&#x4E0A;&#x5F00;&#x542F;WebHDFS (REST API)&#x529F;&#x80FD;,&#x4E0D;&#x662F;&#x5FC5;&#x987B; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.webhdfs.enabled<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.permissions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>
		If &quot;true&quot;, enable permission checking in HDFS.
		If &quot;false&quot;, permission checking is turned off,
		but all other behavior is unchanged.
		Switching from one parameter value to the other does not change the mode,
		owner or group of files or directories.
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</pre><p>&#x4FEE;&#x6539;mapred-site.xml&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token prolog">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span>
<span class="token comment">&lt;!--
  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--&gt;</span>

<span class="token comment">&lt;!-- Put site-specific property overrides in this file. --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;mr&#x6846;&#x67B6;&#x4E3A;yarn&#x65B9;&#x5F0F; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</pre><p>&#x4FEE;&#x6539;yarn-site.xml&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="token comment">&lt;!--
  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Site specific YARN configuration properties --&gt;</span>

	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;nodemanager&#x542F;&#x52A8;&#x65F6;&#x52A0;&#x8F7D;server&#x7684;&#x65B9;&#x5F0F;&#x4E3A;shuffle server --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token comment">&lt;!-- &#x6307;&#x5B9A;resourcemanager&#x5730;&#x5740; --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>slave9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</pre><p>&#x4FEE;&#x6539;slaves&#x6587;&#x4EF6;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">slave7
slave8
slave9
</pre><p>&#x6700;&#x540E;&#xFF0C;&#x5C06;hadoop2.7.3&#x76EE;&#x5F55;&#x540C;&#x6B65;&#x590D;&#x5236;&#x5230;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x4E0A;</p>
<p>&#x542F;&#x52A8;hadoop&#x96C6;&#x7FA4;(&#x5982;&#x679C;&#x662F;&#x9996;&#x6B21;&#x542F;&#x52A8;&#x4F1A;&#x7279;&#x522B;&#x6807;&#x6CE8;&#x8BF4;&#x660E;&#xFF0C;&#x5173;&#x95ED;&#x96C6;&#x7FA4;&#x987A;&#x5E8F;&#x521A;&#x597D;&#x76F8;&#x53CD;)</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x786E;&#x4FDD;zookeeper&#x96C6;&#x7FA4;&#x5148;&#x542F;&#x52A8;&#xFF0C;&#x5728;&#x672C;&#x6559;&#x7A0B;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x5230;slave7&#xFF0C;slave8&#xFF0C;slave9&#x4E0A;&#x5728;zookeeper&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#xFF1A;</span>
./zkServer.sh start
<span class="token comment"># &#x5173;&#x95ED;</span>
./zkServer.sh stop

<span class="token comment"># &#x683C;&#x5F0F;&#x5316;zookeeper&#x96C6;&#x7FA4;&#xFF0C;&#x5728;slave7&#x4E0A;&#x6267;&#x884C;(&#x4EC5;&#x9650;&#x9996;&#x6B21;&#x542F;&#x52A8;)&#xFF1A;</span>
bin/hdfs zkfc -formatZK

<span class="token comment"># &#x542F;&#x52A8;JournalNode&#x96C6;&#x7FA4;</span>
<span class="token comment"># &#x5728;slave7&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
sbin/hadoop-daemons.sh start journalnode
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemons.sh stop journalnode
<span class="token comment"># &#x6216;&#x8005;&#x5728;slave7&#xFF0C;slave8&#xFF0C;slave9&#x4E0A;&#x5206;&#x522B;&#x90FD;&#x6267;&#x884C;(&#x6CE8;&#x610F;daemons.sh&#x548C;daemon.sh&#x7684;&#x533A;&#x522B;)&#xFF1A;</span>
sbin/hadoop-daemon.sh start journalnode
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemon.sh stop journalnode

<span class="token comment"># &#x683C;&#x5F0F;&#x5316;&#x96C6;&#x7FA4;&#x7684;namenode(hdfs) (&#x4EC5;&#x9650;&#x9996;&#x6B21;&#x542F;&#x52A8;)</span>
bin/hadoop namenode -format

<span class="token comment"># &#x542F;&#x52A8;namenode(1)&#xFF0C;&#x5728;slave7&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
sbin/hadoop-daemon.sh start namenode
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemon.sh stop namenode

<span class="token comment"># &#x540C;&#x6B65;namenode(1)&#x5230;namenode(2)&#xFF0C;&#x5E76;&#x542F;&#x52A8;namenode(2)&#xFF0C;&#x5728;slave8&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
bin/hdfs namenode &#x2013;bootstrapStandby
sbin/hadoop-daemon.sh start namenode
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemon.sh stop namenode

<span class="token comment"># &#x542F;&#x52A8;&#x6240;&#x6709;datanode&#xFF0C;&#x5728;slave7&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
sbin/hadoop-daemons.sh start datanode
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemons.sh stop datanode

<span class="token comment"># &#x542F;&#x52A8;yarn&#xFF0C;&#x5728;&#x4F5C;&#x4E3A;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#x4E0A;&#x7684;slave9&#x673A;&#x5668;&#x4E0A;&#x6267;&#x884C;&#x542F;&#x52A8;&#xFF1A;</span>
sbin/start-yarn.sh
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/stop-yarn.sh

<span class="token comment"># &#x542F;&#x52A8;zkfc&#x96C6;&#x7FA4;&#xFF0C;&#x5728;slave7&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
sbin/hadoop-daemons.sh start zkfc
<span class="token comment"># &#x5173;&#x95ED;</span>
sbin/hadoop-daemons.sh stop zkfc
</pre><h3 class="mume-header" id="%E6%90%AD%E5%BB%BAhbase%E9%9B%86%E7%BE%A4">&#x642D;&#x5EFA;hbase&#x96C6;&#x7FA4;</h3>

<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># hbase&#x7248;&#x672C;&#xFF1A;1.2.5</span>
<span class="token comment"># &#x89E3;&#x538B;hbase-1.2.5-bin.tar.gz</span>
<span class="token comment"># hbase&#x9876;&#x7EA7;&#x76EE;&#x5F55;&#x4E3A;&#xFF1A;/home/hadoop/hbase-1.2.5</span>
<span class="token comment"># &#x9996;&#x5148;&#xFF0C;&#x8FDB;&#x5165;hbase&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55;</span>
<span class="token function">cd</span> /home/hadoop/hbase-1.2.5
</pre><p><a href="http://xn--hbase-env-9q1rq60a.sh">&#x6253;&#x5F00;hbase-env.sh</a>&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token function">export</span> JAVA_HOME<span class="token operator">=</span>/home/hadoop/jdk1.8.0_73
<span class="token function">export</span> HBASE_LOG_DIR<span class="token operator">=</span><span class="token variable">${HBASE_HOME}</span>/logs
<span class="token comment"># &#x4E0D;&#x4F7F;&#x7528;&#x81EA;&#x5E26;&#x7684;zookeeper</span>
<span class="token function">export</span> HBASE_MANAGES_ZK<span class="token operator">=</span>false
</pre><p>&#x914D;&#x7F6E;hbase-site.xml&#xFF0C;&#x6700;&#x7EC8;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">&quot;1.0&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>?xml-stylesheet type<span class="token operator">=</span><span class="token string">&quot;text/xsl&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;configuration.xsl&quot;</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>--
/**
 *
 * Licensed to the Apache Software Foundation <span class="token punctuation">(</span>ASF<span class="token punctuation">)</span> under one
 * or <span class="token function">more</span> contributor license agreements.  See the NOTICE <span class="token function">file</span>
 * distributed with this work <span class="token keyword">for</span> additional information
 * regarding copyright ownership.  The ASF licenses this <span class="token function">file</span>
 * to you under the Apache License, Version 2.0 <span class="token punctuation">(</span>the
 * <span class="token string">&quot;License&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> you may not use this <span class="token function">file</span> except <span class="token keyword">in</span> compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to <span class="token keyword">in</span> writing, software
 * distributed under the License is distributed on an <span class="token string">&quot;AS IS&quot;</span> BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License <span class="token keyword">for</span> the specific language governing permissions and
 * limitations under the License.
 */
--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>configuration<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.tmp.dir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>/home/hadoop/hbase-1.2.5/hbase.tmp.dir<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>-- &#x8BBE;&#x7F6E;HRegionServers&#x5171;&#x4EAB;&#x76EE;&#x5F55; --<span class="token operator">&gt;</span>  
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.rootdir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>hdfs://slave7:9000/hbase<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>description<span class="token operator">&gt;</span>Hbase data director<span class="token operator">&lt;</span>/description<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>-- &#x5F00;&#x542F;&#x5206;&#x5E03;&#x5F0F;&#x6A21;&#x5F0F; --<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.cluster.distributed<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>true<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>-- &#x8BBE;&#x7F6E;HMaster&#x7684;rpc&#x7AEF;&#x53E3;, &#x7531;&#x4E8E;&#x91C7;&#x7528;&#x7684;&#x662F;HA&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x5199;&#x7AEF;&#x53E3;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x5199;&#x4E3B;&#x673A;&#x540D;--<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.master.port<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>60000<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>-- &#x5BF9;&#x6BD4;&#x53C2;&#x8003;
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.master<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>hdfs://master:60000<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
	--<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>-- &#x8BBE;&#x7F6E;HMaster&#x7684;http web console&#x7AEF;&#x53E3; --<span class="token operator">&gt;</span> 
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.master.info.port<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>16010<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--zookeeper&#x8BBE;&#x7F6E;&#xFF0C;&#x4F9D;&#x8D56;zookeeper&#x96C6;&#x7FA4;&#x8BBE;&#x7F6E;--<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span>--zookeeper&#x96C6;&#x7FA4;&#x4FE1;&#x606F;&#x8BBE;&#x7F6E;--<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.zookeeper.quorum<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>slave7,slave8,slave9<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--zookeeper&#x7AEF;&#x53E3;--<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.zookeeper.property.clientPort<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>2181<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--&#x8BF7;&#x53C2;&#x8003;zookeeper&#x914D;&#x7F6E;&#x6587;&#x4EF6;zoo.cfg&#x4E2D;dataDir&#x7684;&#x503C; --<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>hbase.zookeeper.property.dataDir<span class="token operator">&lt;</span>/name<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>/home/hadoop/zookeeper-3.4.10/datadir<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>/configuration<span class="token operator">&gt;</span>
</pre><p>&#x914D;&#x7F6E;regionservers&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre data-role="codeBlock" data-info class="language-"><code>slave8
slave9
</code></pre><p>scp hbase&#x76EE;&#x5F55;&#x5230;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;(slave7,slave8,slave9)</p>
<p>&#x542F;&#x52A8;hbase&#x96C6;&#x7FA4;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash"><span class="token comment"># &#x9996;&#x5148;&#x786E;&#x4FDD;hadoop&#x96C6;&#x7FA4;&#x542F;&#x52A8;</span>

<span class="token comment"># &#x542F;&#x52A8;hbase&#x96C6;&#x7FA4;&#xFF0C;&#x5728;slave7&#x4E0A;&#x6267;&#x884C;&#xFF1A;</span>
bin/start-hbase.sh
<span class="token comment"># &#x5173;&#x95ED;</span>
bin/stop-hbase.sh
</pre><p>&#x540E;&#x8BB0;&#xFF1A;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x7684;&#x542F;&#x52A8;&#x5148;&#x540E;&#x987A;&#x5E8F;</p>
<p><code>zookeeper -&gt; hadoop -&gt; hbase</code></p>
<p>&#x591A;&#x6B21;&#x683C;&#x5F0F;&#x5316;&#x96C6;&#x7FA4;&#xFF0C;&#x6700;&#x540E;phoenix&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x62A5;&#x9519;&#xFF1A;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>phoenix<span class="token punctuation">.</span>exception<span class="token punctuation">.</span><span class="token class-name">PhoenixIOException</span><span class="token operator">:</span> SYSTEM<span class="token punctuation">.</span>CATALOG
<span class="token comment">//&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF0C;&#x505C;&#x6B62;hbase&#x96C6;&#x7FA4;&#xFF0C;&#x6267;&#x884C; bin/hbase clean --cleanZk&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;hbase&#x96C6;&#x7FA4;</span>
</pre><p>&#x53C2;&#x8003;&#x6587;&#x6863;</p>
<p>pacdata&#x5185;&#x90E8;&#x6587;&#x6863;<br>
HA &#x6A21;&#x5F0F;&#x4E0B;&#x7684; Hadoop+ZooKeeper+HBase &#x542F;&#x52A8;&#x987A;&#x5E8F; (<a href="http://blog.csdn.net/u011414200/article/details/50437356">http://blog.csdn.net/u011414200/article/details/50437356</a>)<br>
Hadoop2.5.2 HA&#x9AD8;&#x53EF;&#x9760;&#x6027;&#x96C6;&#x7FA4;&#x642D;&#x5EFA;(Hadoop+Zookeeper) (<a href="http://www.iteye.com/news/30739">http://www.iteye.com/news/30739</a>)</p>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>